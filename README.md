# InventoryControl

Тема: Складской учет для ресторана.

Студент: Галуц Антон Андреевич

Номер группы: 153501

## Используемая технология
Postgre SQL
## Функциональные требования
* Авторизация пользователя.
* Управление пользователями и сущностями, которые относятся к предметной области(CRUD).
* Система ролей для пользователей. 
* Журналирование действий пользователя.
## Список таблиц

### Пользователь
* Описание
  + Таблица информации о зарегистрированных клиентах
* Поля
  + id (Primary Key, INT, Auto-increment) - уникальный идентификатор пользователя
  + Name1_idName1 (Foreign Key, INT) - имя
  + Name2_idName2 (Foreign Key, INT) - фамилия
  + Name3_idName3 (Foreign Key, INT) - отчество
  + login (VARCHAR(50)) - имя пользователя
  + password (VARCHAR(50)) - фамилия пользователя
  + status (ENUM) - статус пользователя
  + role (ENUM) - роль пользователя
  + active (ENUM) - текущая активность пользователя
  + status (ENUM) - статус пользователя
  + blockedfrom (DATETIME) - дата блокировки пользователя
  + blockedtill (DATETIME) - дата разблокировки пользователя
* Связи
  + многие к одному с таблицей имен
  + многие к одному с таблицей фамилий
  + многие к одному с таблицей отчеств
  + один к одному с таблицей официантов
  + один к одному с таблицей поваров
  + один к одному с таблицей посетителей
  + один ко многим с таблицей логов удаления
  + один ко многим с таблицей логов редактирования
  + один ко многим с таблицей логов добавления
### Официант
* Описание
  + Таблица информации официантов
* Поля
  + idWaiter (Primary Key, INT, Auto-increment) - уникальный идентификатор официанта
  + WaiterType_idWaiterType (Foreign Key, INT) - тип официанта
  + Passport_idPassport (INT) - номер паспорта
  + Discount_idDiscount (Foreign Key, INT) - скидка
  + human_id (Foreign Key, INT) - пользователь
* Связи
  + многие к одному с таблицей типов официантов
  + многие к одному с таблицей скидок
  + один к одному с таблицей пользователей
### Повар
* Описание
  + Таблица информации поваров
* Поля
  + idCook (Primary Key, INT, Auto-increment) - уникальный идентификатор повар
  + CookType_idCookType (Foreign Key, INT) - тип повара
  + College_idCollege (Foreign Key, INT) - колледж
  + human_id (Foreign Key, INT) - пользователь
* Связи
  + многие к одному с таблицей типов поваров
  + многие к одному с таблицей колледжей
  + один к одному с таблицей пользователей
### Посетитель
* Описание
  + Таблица информации посетителей
* Поля
  + idCustomer (Primary Key, INT, Auto-increment) - уникальный идентификатор посетителей
  + Payment_idPayment (Foreign Key, INT) - счет
  + BancAccountNumber_idBancAccountNumber (Foreign Key, INT) - номер от аккаунта банка
  + Discount_idDiscount (Foreign Key, INT) - скидка
  + human_id (Foreign Key, INT) - пользователь
* Связи
  + многие к одному с таблицей счетов
  + многие к одному с таблицей скидок
  + один к одному с таблицей номеров банковского счета
  + один к одному с таблицей пользователей
### Имя
* Описание
  + Таблица имен
* Поля
  + idName1 (Primary Key, INT, Auto-increment) - уникальный идентификатор имени
  + Name1 (VARCHAR(20)) - имя
* Связи
  + один ко многим с таблицей пользователей
### Фамилия
* Описание
  + Таблица фамилий
* Поля
  + idName2 (Primary Key, INT, Auto-increment) - уникальный идентификатор фамилии
  + Name2 (VARCHAR(20)) - фамилия
* Связи
  + один ко многим с таблицей пользователей
### Отчество
* Описание
  + Таблица отчеств
* Поля
  + idName3 (Primary Key, INT, Auto-increment) - уникальный идентификатор отчество
  + Name3 (VARCHAR(20)) - отчество
* Связи
  + один ко многим с таблицей пользователей
### Лог удаления пользователя
* Описание
  Таблица логов удаления пользователей
* Поля
  + idDeleteLog (Primary Key, INT, Auto-increment) - уникальный идентификатор лога удаления пользователя
  + DeleteLogText (VARCHAR(40)) - Лог
  + human_id (Foreign Key, INT) - удаленный пользователь
  + Time (TIMESPAN) - время удаления пользователя
* Связи
  + многие к одному с таблицей пользователей

### Лог редактирования пользователя
* Описание
  Таблица логов редактирования пользователей
* Поля
  + idUpdateLog (Primary Key, INT, Auto-increment) - уникальный идентификатор лога редактирования пользователя
  + DeleteLogText (VARCHAR(40)) - Лог
  + Old_human_id (Foreign Key, INT) - удаленный пользователь
  + Time (TIMESPAN) - время редактирования пользователя
  + Name1_idName1 (Foreign Key, INT) - новое имя
  + Name2_idName2 (Foreign Key, INT) - новая фамилия
  + Name3_idName3 (Foreign Key, INT) - новое отчество
  + login (VARCHAR(45)) - новый логин
  + password (VARCHAR(45)) - новый пароль
  + status (ENUM) - новый статус
  + role (ENUM) - новая роль
  + active (ENUM) - новая активность
* Связи
  + многие к одному с таблицей пользователей
  + многие к одному с таблицей имен
  + многие к одному с таблицей фамилий
  + многие к одному с таблицей отчеств
  
### Лог добавления пользователя
* Описание
  Таблица логов добавления пользователей
* Поля
  + idInsertLog (Primary Key, INT, Auto-increment) - уникальный идентификатор лога добавления пользователя
  + InsertLogText (VARCHAR(40)) - Лог
  + New_human_id (Foreign Key, INT) - добавленный пользователь
  + Time (TIMESPAN) - время добавления пользователя
* Связи
  + многие к одному с таблицей пользователей
  
### Блюдо
* Описание
  + Таблица блюд
* Поля
  + idDish (Primary Key, INT, Auto-increment) - уникальный идентификатор блюда
  + DishType_idDishType (Foreign Key, INT) - тип блюда
  + Cook_idCook (Foreign Key, INT) - повар готовивший блюдо
  + DishName (VARCHAR(30)) - название блюда
  + Weight (INT) - вес
  + CalorieContent (INT) - количество колорий 
  + FeedTime (TIMESPAN) - время подачи
* Связи
  + многие к одному с таблицей поваров
  + многие к одному с таблицей типов блюд
### Ингредиент
* Описание
  + Таблица ингредиентов
* Поля
  + idIngredient (Primary Key, INT, Auto-increment) - уникальный идентификатор ингредиента
  + Dish_idDish (Foreign Key, INT) - блюдо, в составе которого есть этот ингредиент
  + IngredientType_idIngredientType (Foreign Key, INT) - тип ингредиента
  + IngredientName (VARCHAR(30)) - название ингредиента 
* Связи
  + многие ко многим с таблицей блюд
  + многие к одному с таблицей типов ингредиентов
### Элемент меню
* Описание
  + Таблица элементов меню
* Поля
  + idMenuuItem (Primary Key, INT, Auto-increment) - уникальный идентификатор элемента меню
  + Dish_idDish (Foreign Key, INT) - блюдо
  + Price_idPrice (Foreign Key, INT) - стоимость блюда 
  + MenuItemCol (INT) - номер столбца в меню
* Связи
  + многие к одному с таблицей стоимостей
  + один к одному с таблицей блюд
### Стоимость
* Описание
  + Таблица стоимостей
* Поля
  + idPrice (Primary Key, INT, Auto-increment) - уникальный идентификатор стоимости 
  + Valute_idValute (Foreign Key, INT) - валюта
  + Price (INT) - цена
* Связи
  + многие к одному с таблицей валют
### Валюта
* Описание
  + Таблица валют
* Поля
  + idValute (Primary Key, INT, Auto-increment) - уникальный идентификатор валюты
  + Valute (VARCHAR(40)) - название валюты
### Оплата
* Описание
  + Таблица оплат
* Поля
  + idPayment (Primary Key, INT, Auto-increment) - уникальный идентификатор оплаты
  + Tip (INT) - чаевые 
* Связи
  + один ко многим с таблицей заказов
  + один ко многим с таблицей посетителей
### Колледж
* Описание
  + Таблица колледжей
* Поля
  + idCollege (Primary Key, INT, Auto-increment) - уникальный идентификатор колледжей
  + CollegeName (VARCHAR(45)) - название колледжа
  + Abr (VARCHAR(10)) - аббревиатура колледжа
* Связи
  + один ко многим с таблицей поваров
### Бекап пользователя
* Описание
  + Таблица бекапов пользователей
* Поля
  + idHumanBackup (Primary Key, INT, Auto-increment) - уникальный идентификатор бекапа
  + id (INT) - айди пользователя
  + Name1_idName1 (INT) - имя
  + Name2_idName2 (INT) - фамилия
  + Name3_idName3 (INT) - отчество
  + login (VARCHAR(50)) - имя пользователя
  + password (VARCHAR(50)) - фамилия пользователя
  + status (ENUM) - статус пользователя
  + role (ENUM) - роль пользователя
  + active (ENUM) - текущая активность пользователя
  + status (ENUM) - статус пользователя
  + blockedfrom (DATETIME) - дата блокировки пользователя
  + blockedtill (DATETIME) - дата разблокировки пользователя
### Номер стола
* Описание
  + Таблица столов
* Поля
  + idTableNum (Primary Key, INT, Auto-increment) - уникальный идентификатор стола
  + Customer_idCustomer (Foreign Key, INT) - посетитель
  + Order_idOrder (Foreign Key, INT) - заказ
  + TableNum (INT) - номер  стола 
* Связи
  + многие к одному с таблицей заказов
  + многие к одному с таблицей посетителей
### Номер банковского счета
* Описание
  + Таблица номеров банковских счетов
* Поля
  idBancAccountNumber (Primary Key, INT, Auto-increment) - уникальный идентификатор номера
  BancAccountNumber (INT) - номер банковского счета 
* Связи
  + один к одному с таблицей посетителей
### Скидка
* Описание
  + Таблица скидок
* Поля
  idDiscount (Primary Key, INT, Auto-increment) - уникальный идентификатор скидки
  Amount (INT) - скидка
* Связи
  + один ко многим с таблицей посетителей
  + один ко многим с таблицей официантов
### Тип повара
* Описание
  + Таблица типов поваров
* Поля
  idCookType (Primary Key, INT, Auto-increment) - уникальный идентификатор типа повара
  CookType (VARCHAR(30)) - тип
* Связи
  + один ко многим с таблицей поваров
### Тип ингредиента
* Описание
  + Таблица типов ингредиентов
* Поля
  idIngredientType (Primary Key, INT, Auto-increment) - уникальный идентификатор типа ингридиента
  IngredientName (VARCHAR(30)) - тип
* Связи
  + один ко многим с таблицей ингредиентов
### Тип блюда
* Описание
  + Таблица типов блюд
* Поля
  idDishType (Primary Key, INT, Auto-increment) - уникальный идентификатор типа блюда
  DishType (VARCHAR(90)) - тип
* Связи
  + один ко многим с таблицей блюд
### Тип официанта
* Описание
  + Таблица типов официантов
* Поля
  idWaiterType (Primary Key, INT, Auto-increment) - уникальный идентификатор типа официанта
  WaiterType (VARCHAR(30)) - тип
* Связи
  + один ко многим с таблицей официантов
